# CI4的内容协商

内容协商可能对于很多CI开发者来说是很陌生的，当我关注到Http层的时候才了解到这一点。下面我们一起来探讨一下什么是内容协商，以及它是如何运用在即将到来的CI4。

## 什么是内容协商？

最简单的情景，内容协商就是你的网站和用户的浏览器通过浏览器发送的一些特定`Accept`头(这些头可以确定返回页面的语言，页面图片的类型，浏览器支持的编码类型等等)来确定最终返回的数据。

举个例子，我用chrome访问Mozilla的站点，可以看到下面的头信息：

*    accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,/;q=0.8
*    accept-encoding:gzip, deflate, sdch
*    accept-language:en-US,en;q=0.8

这些`Accept`头信息告诉我们浏览器支持的格式，并且提供给我们所支持的这些格式的优先级信息，上面的信息告诉我们浏览器在支持的文件类型中更希望接收`text/html`文件。因为浏览器设置的是英文，`accept-language`预示着我更喜欢美式英语的页面。

很显然，及时我们不提供任何内容协商信息，web站点还是可以照常运行，并且我们已经这么多了很多年。事实上web服务器可以帮助我们处理很多信息，但是我们通常不太善于利用这一点，然而这并不意味着我们不能处理这些信息。

内容协商很吸引人的两个用处是对于那些多语言支持的站点，或者是可以返回特定格式的数据的API接口，等等。

是不是必须要使用内容协商呢？可能不一定，它也许是把双刃剑，有些人提议不要使用它，也有些人认为它就像切片面包一样好吃。如果你需要使用内容协商，在Codeigniter中将很简单。

## 一个简单例子
