# CodeIgniter 4 的请求和响应

CI4的最大的一个变化是输入输出将被改变，在之前的版本，包括最新的V3版本，输入和输出是作为两个包含有相关的处理函数的类来分别处理，那样虽然没有很好的模式，但是处理事务却很高效。所以，在CI4中，我们已经更加模块化HTTP层，并且构架你一个新的类来处理HTTP的请求和响应。

## 初看一下

在开发web应用时（不同于命令行程序），你只需要考虑两个类，`请求类`，和`响应类`。

## 请求类

请求类包含了HTTP请求和该请求附带的数据，包括：

*  GET, POST, SERVER, and ENV 变量
*  HEADERS(请求头)
*  Cookies
*  当前请求的URL对象
*  上传的文件

并且包且还包括常见请求信息比如：

*  请求客户端IP地址
*  该请求是否为Ajax请求
*  是否是命令行请求
*  是否是Https传输

如果你想知道命名的不同，或者说认为将来请求就是简单的一个请求嘛，答案是否定的，已经有一个包含有像GET和POS变量的另一个更为普遍但是没有详细HTTP请求信息的普通请求类。一个请求通常只要满足两个条件其中的一个：要么是浏览器客户端向服务器作出请求(进来)，或者是一个发送给外部服务器的请求(出去)。

## 响应

响应类是将处理的结果返回给客户端，可以设置响应头，直接发送结果输出信息，等等。响应类提供了一些便捷方法比如：

*  设置适当的无缓存头信息(no-cache headers)
*  处理HTTP缓存头信息
*  重定向页面

## 一个简单的例子

上面的说的这些处理起来好像很有科技含量似的，但事实上其实很简单。控制器已经有一个类的对象多为属性，但是为了简单，你并没有必要去使用它。控制器的输出会被输出类捕获，然后自动被设置为响应的主体。一个简单的Hello World看起来像这样：

`
class Home extends \CodeIgniter\Controller
{
    public function index()
    {
        echo "Hello World!";
    }
}
`



















